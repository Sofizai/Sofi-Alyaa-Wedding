<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sofi & Alyaa - Wedding Invitation</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* General Reset and Font Setup */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Smooth Scrolling Behavior */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            color: #4A4543; 
            padding-top: 0; 
            padding-bottom: 60px; 
        }

        /* --- Music Player Styling --- */
        .music-player {
            position: fixed;
            bottom: 70px; 
            right: 10px;
            z-index: 1001; 
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .music-player:hover {
            opacity: 1;
        }
        
        /* --- GLOBAL NAVIGATION --- */
        .main-nav {
            position: fixed;
            bottom: 0; 
            top: auto; 
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05); 
            z-index: 1000;
            padding: 0 3rem;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nav-list {
            list-style: none;
            display: flex;
            gap: 25px; 
        }

        .nav-list a {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #92786B; 
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-list a:hover {
            color: #4A4543; 
        }
        
        /* --- Scroll Reveal Base Style --- */
        .fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            will-change: opacity, transform;
        }

        .fade-in-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- 1. HERO SECTION --- */
        .hero {
            background: url('background.jpg') no-repeat center center/cover;
            height: 100vh; 
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            margin-top: 0; 
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(60, 47, 42, 0.4); 
            z-index: 1;
        }
        
        .hero-content {
            text-align: center;
            position: relative;
            z-index: 2;
            padding-bottom: 10vh;
        }
        
        .names {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            font-weight: 400; 
            letter-spacing: 2px;
            margin-bottom: 0.5rem;
            color: #f7f7f7; 
        }
        
        .tagline {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            font-weight: 400;
            letter-spacing: 5px;
            color: #D3C4B8;
            margin-bottom: 2rem;
        }
        
        .rsvp-button {
            display: inline-block;
            padding: 0.8rem 2rem;
            border: 1px solid #D3C4B8;
            color: #D3C4B8;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 3px;
            text-transform: uppercase;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .info-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 3rem;
            z-index: 2; 
            background-color: rgba(0, 0, 0, 0.05); 
            font-family: 'Montserrat', sans-serif;
            font-size: 0.75rem;
            color: #D3C4B8; 
            text-transform: uppercase;
        }

        /* --- SECTIONS --- */
        .parents-page, .schedule-page, .guestbook-page, .doa-page, .wishes-page, .salam-kaut-page {
            background-color: #DED8CC; 
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center; 
            align-items: center; 
            text-align: center;
            padding: 80px 20px; 
        }
        
        .contact-page {
            background: url('goldflowers.jpg') no-repeat center center/cover;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center; 
            align-items: center; 
            text-align: center;
            padding: 80px 20px; 
            position: relative; 
        }
        
        .contact-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(60, 47, 42, 0.2); 
            z-index: 1;
        }

        .info-block-container {
            max-width: 650px;
            padding: 50px 70px; 
            border: 1px solid #BCAAA4; 
            background-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            margin: 40px auto; 
            position: relative; 
            z-index: 2; 
        }

        .greeting { font-family: 'Montserrat', sans-serif; font-size: 0.9rem; letter-spacing: 2px; text-transform: uppercase; border-top: 1px solid #92786B; padding-top: 2rem; margin-bottom: 2rem; color: #4A4543;}
        .parent-names { font-family: 'Montserrat', sans-serif; font-size: 1.1rem; font-weight: 600; line-height: 1.6; margin-bottom: 2rem;}
        .parent-names .ampersand, .couple-names .ampersand { display: block; margin: 1.5rem 0; font-family: 'Playfair Display', serif; font-size: 3rem; font-weight: 400; color: #92786B; line-height: 1;}
        .invitation-message { font-family: 'Montserrat', sans-serif; font-size: 0.9rem; line-height: 1.8; margin: 4rem 0; padding: 0 10px; color: #92786B;}
        .couple-names { font-family: 'Montserrat', sans-serif; font-size: 1.3rem; font-weight: 600; line-height: 1.6; margin-top: 3rem;}
        
        /* --- SCHEDULE --- */
        .schedule-content { max-width: 900px; width: 100%; display: flex; justify-content: space-around; text-align: left; padding: 50px 20px; border: 1px solid #BCAAA4; background-color: rgba(255, 255, 255, 0.9); box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);}
        .details-column, .schedule-column { width: 45%; padding: 0 20px;}
        .schedule-title { font-family: 'Montserrat', sans-serif; font-size: 1.4rem; font-weight: 600; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 2.5rem; color: #4A4543;}
        .info-block { margin-bottom: 3rem; line-height: 1.8;}
        .info-block h4 { font-size: 0.85rem; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; margin-bottom: 0.5rem; color: #4A4543;}
        .info-block p { font-size: 0.9rem; color: #92786B;}
        
        /* Table-like structure for Atur Cara */
        .time-entry { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed #BCAAA4; font-size: 0.95rem; color: #4A4543;}
        .time-entry .time { font-weight: 700; width: 15%; color: #92786B;}
        .time-entry .activity { width: 80%;}

        /* Button Styling */
        .map-button, .contact-button, .copy-button {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            border: 1px solid #92786B;
            color: #92786B;
            text-decoration: none;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s ease;
            margin-top: 10px;
            background: transparent;
            cursor: pointer;
        }
        .map-button:hover, .contact-button:hover, .copy-button:hover {
            background-color: #92786B;
            color: #fff;
        }

        /* --- GUESTBOOK --- */
        .guestbook-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; font-weight: 400; margin-bottom: 0.5rem; color: #4A4543;}
        .guestbook-subtitle { font-family: 'Montserrat', sans-serif; font-size: 0.85rem; letter-spacing: 3px; text-transform: uppercase; color: #92786B; margin-bottom: 2rem;}
        .guestbook-message { font-size: 0.95rem; line-height: 1.8; color: #4A4543; margin-bottom: 2.5rem;}
        .guestbook-button { display: inline-block; padding: 0.8rem 2rem; margin-top: 1rem; border: 2px solid #92786B; color: #4A4543; background-color: transparent; text-decoration: none; font-size: 0.9rem; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; transition: background-color 0.3s, color 0.3s, border-color 0.3s;}
        .guestbook-button:hover { background-color: #92786B; color: #fff; border-color: #92786B;}

        /* --- DOA & COUNTDOWN --- */
        .doa-content { max-width: 1000px; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 60px 40px; border: 1px solid #BCAAA4; background-color: rgba(255, 255, 255, 0.9); box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);}
        .image-column, .text-column { width: 48%; text-align: left;}
        .doa-image { width: 100%; height: 400px; background: url('binga.jpg') no-repeat center center/cover; filter: grayscale(100%) brightness(90%) contrast(100%); border: 1px solid #BCAAA4;}
        .arabic-text { font-family: 'Traditional Arabic', serif; font-size: 2.2rem; text-align: left; line-height: 1.8; color: #4A4543; margin-bottom: 2.5rem;}
        .doa-text { font-family: 'Montserrat', sans-serif; font-size: 0.95rem; line-height: 1.8; color: #92786B; margin-bottom: 4rem;}
        .countdown-title { font-size: 0.8rem; letter-spacing: 3px; text-transform: uppercase; color: #4A4543; margin-bottom: 1.5rem;}
        .timer-container { display: flex; gap: 20px; align-items: baseline;}
        .timer-block { text-align: center; color: #92786B;}
        .timer-number { font-family: 'Playfair Display', serif; font-size: 4rem; font-weight: 700; line-height: 1; display: block; margin-bottom: 0.3rem; color: #4A4543;}
        .timer-label { font-family: 'Montserrat', sans-serif; font-size: 0.75rem; letter-spacing: 2px; text-transform: uppercase;}

        /* --- CONTACT --- */
        .contact-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; font-weight: 400; margin-bottom: 0.5rem; color: #4A4543;}
        .contact-details-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-bottom: 40px;}
        .contact-block { text-align: center; padding: 15px; min-width: 160px; flex: 1;}
        .contact-block h4 { font-size: 0.8rem; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 0.8rem; color: #4A4543;}
        
        /* --- WISHES --- */
        .wishes-content { max-width: 600px; width: 100%; padding: 40px 20px;}
        .wishes-title { font-family: 'Montserrat', sans-serif; font-size: 1.5rem; font-weight: 600; letter-spacing: 5px; text-transform: uppercase; color: #4A4543; margin-bottom: 50px;}
        .wishes-carousel { position: relative; min-height: 250px; display: flex; align-items: center; justify-content: center; margin-top: 20px;}
        .wish-box { background-color: rgba(255, 255, 255, 0.4); border: 1px solid rgba(188, 170, 164, 0.5); padding: 30px 40px; width: 90%; text-align: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); opacity: 0; transition: opacity 0.5s ease-in-out; position: absolute; display: flex; flex-direction: column; justify-content: center; backdrop-filter: blur(5px); }
        .wish-box.active { opacity: 1; z-index: 5;}
        .wish-message { font-style: italic; color: #4A4543; margin-bottom: 15px; font-size: 1rem; }
        .wish-sender { font-weight: 700; color: #92786B; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;}
        .carousel-nav-btn { background: none; border: none; color: #92786B; font-size: 2.5rem; cursor: pointer; position: absolute; top: 50%; transform: translateY(-50%); z-index: 10; opacity: 0.7; transition: opacity 0.2s, color 0.2s; padding: 0 10px;}
        .carousel-nav-btn:hover { opacity: 1; color: #4A4543;}
        #prev-wish-btn { left: -40px; }
        #next-wish-btn { right: -40px; }

        /* --- SALAM KAUT STYLING (At the end) --- */
        .salam-kaut-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; font-weight: 400; margin-bottom: 0.5rem; color: #4A4543;}
        .qr-placeholder { width: 200px; height: 200px; margin: 20px auto; border: 1px solid #BCAAA4; display: flex; align-items: center; justify-content: center; background-color: #fff;}
        .qr-placeholder img { max-width: 100%; max-height: 100%;}
        .bank-details { margin-top: 15px; font-size: 0.9rem; color: #4A4543;}

        .final-footer { background-color: #CFC5B8; color: #79665B; padding: 20px 0; text-align: center; font-size: 0.7rem; letter-spacing: 1px; text-transform: uppercase;}
        
        /* MOBILE */
        @media (max-width: 768px) {
            .main-nav { padding: 0 10px; }
            .nav-list { gap: 10px; }
            .nav-list a { font-size: 0.65rem; }
            .names { font-size: 3rem; }
            .schedule-content { flex-direction: column; }
            .details-column, .schedule-column { width: 100%; }
            .doa-content { flex-direction: column; }
            .image-column, .text-column { width: 100%; }
            #prev-wish-btn { left: -10px; }
            #next-wish-btn { right: -10px; }
            .contact-block { min-width: 140px; }
        }
    </style>
</head>
<body>
    
    <div class="music-player">
        <audio id="music" autoplay loop controls>
            <source src="The Fate of Ophelia.mp3" type="audio/mp3"> 
            Your browser does not support the audio element.
        </audio>
    </div>

    <nav class="main-nav">
        <ul class="nav-list">
            <li><a href="#schedule">TARIKH</a></li>
            <li><a href="#schedule">LOKASI</a></li>
            <li><a href="#contact">HUBUNGI</a></li>
            <li><a href="#wishes">UCAPAN</a></li>
        </ul>
    </nav>

    <header class="hero" id="home">
        <div class="hero-content">
            <h1 class="names fade-in-section">Sofi & Alyaa</h1>
            <p class="tagline fade-in-section">ARE GETTING MARRIED</p>
            <a href="#schedule" class="rsvp-button fade-in-section">VIEW INVITATION</a>
        </div>
        <div class="info-bar">
            <p class="date-time fade-in-section">MARCH 28, 2026 - 6:00 PM - 10:00 PM</p>
            <p class="location fade-in-section">ADINDA WEDDING HALL, BANDAR PERDA</p>
        </div>
    </header>

    <section class="parents-page" id="invitation">
        <div class="info-block-container fade-in-section">
            <p class="greeting">ASSALAMUALAIKUM DAN<br>SALAM SEJAHTERA</p>
            <div class="parent-names">
                ZABIDI BIN ABDULLAH <span class="ampersand">&</span> SITI LATIFAH BINTI CHE WANG
            </div>
            <p class="invitation-message">Dengan penuh kesyukuran, kami menjemput Dato, Datin, Tuan, Puan, Encik, Cik seisi keluarga hadir ke majlis perkahwinan anakanda kami dan pilihan hatinya</p>
            <div class="couple-names">
                MUHAMMAD SOFI BIN ZABIDI <span class="ampersand">&</span> NUR FAZLIN ALYAA BINTI AZHAR
            </div>
        </div>
    </section>

    <section class="schedule-page" id="schedule">
        <div class="schedule-content fade-in-section">
            <div class="details-column">
                <h2 class="schedule-title">Maklumat Majlis</h2>
                <div class="info-block"><h4>Lokasi</h4><p>Adinda Wedding Hall, 188 Jalan Perda Utama, 14000, Bukit Mertajam, Pulau Pinang.</p></div>
                <div class="info-block"><h4>Tarikh dan Masa</h4><p>28 March 2026 (Sabtu)</p><p>6pm - 10pm</p></div>
                <div class="info-block">
                    <h4>Google Map</h4>
                    <a href="https://share.google/eSmTXLUnoUU2X966W" target="_blank" class="map-button">Lihat Lokasi</a>
                </div>
            </div>
            <div class="schedule-column">
                <h2 class="schedule-title">Atur Cara Majlis</h2>
                <div class="time-entry"><span class="time">6:00 PM</span><span class="activity">Kehadiran Tetamu</span></div>
                <div class="time-entry"><span class="time">8:00 PM</span><span class="activity">Ketibaan Pengantin</span></div>
                <div class="time-entry"><span class="time">8:00 PM</span><span class="activity">Makan Beradab</span></div>
                <div class="time-entry"><span class="time">9:00 PM</span><span class="activity">Bergambar bersama pengantin</span></div>
                <div class="time-entry"><span class="time">10:00 PM</span><span class="activity">Majlis bersurai</span></div>
            </div>
        </div>
    </section>

    <section class="guestbook-page" id="guestbook">
        <div class="info-block-container fade-in-section">
            <h2 class="guestbook-title">Tinggalkan Ucapan</h2>
            <p class="guestbook-subtitle">Doa & Kata-Kata Tulus</p>
            <p class="guestbook-message">Sila klik butang di bawah untuk meninggalkan ucapan tahniah dan doa tulus ikhlas anda.</p>
            <p class="form-instructions">
                <a href="https://forms.gle/1jfoDD63YpbZd4eZ9" target="_blank" class="guestbook-button">KLIK SINI UNTUK TINGGALKAN MESEJ</a>
            </p>
        </div>
    </section>
    
    <section class="doa-page" id="doa">
        <div class="doa-content fade-in-section">
            <div class="image-column"><div class="doa-image"></div></div>
            <div class="text-column">
                <p class="arabic-text">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</p>
                <p class="doa-text">Ya Allah Ya Rahman Ya Rahim. Berkatilah majlis perkahwinan ini. Limpahkanlah baroqah dan rahmatMU kepada kedua mempelai ini. Kurniakanlah mereka kelak zuriat yang soleh and solehah. Kekalkanlah jodoh mereka hingga ke jannah.</p>
                <h2 class="countdown-title">MENGHITUNG HARI BAHAGIA</h2>
                <div class="timer-container" id="countdown-timer">
                    <div class="timer-block"><span class="timer-number" id="days">000</span><span class="timer-label">DAYS</span></div>
                    <div class="timer-block"><span class="timer-number" id="hours">00</span><span class="timer-label">HOURS</span></div>
                    <div class="timer-block"><span class="timer-number" id="minutes">00</span><span class="timer-label">MINS</span></div>
                    <div class="timer-block"><span class="timer-number" id="seconds">00</span><span class="timer-label">SECS</span></div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-page" id="contact">
        <div class="info-block-container fade-in-section">
            <h2 class="contact-title">Hubungi Kami</h2>
            <div class="contact-details-grid">
                <div class="contact-block">
                    <h4>Akmal (Abang)</h4>
                    <a href="https://wa.me/60184625303" target="_blank" class="contact-button">WhatsApp</a>
                </div>
                <div class="contact-block">
                    <h4>Zabidi (Bapa)</h4>
                    <a href="https://wa.me/60103422836" target="_blank" class="contact-button">WhatsApp</a>
                </div>
                <div class="contact-block">
                    <h4>Siti Latifah (Ibu)</h4>
                    <a href="https://wa.me/60175076854" target="_blank" class="contact-button">WhatsApp</a>
                </div>
                <div class="contact-block">
                    <h4>Rabiatul (Kakak)</h4>
                    <a href="https://wa.me/60174596104" target="_blank" class="contact-button">WhatsApp</a>
                </div>
            </div>
        </div>
    </section>

    <section class="wishes-page" id="wishes">
        <div class="wishes-content fade-in-section">
            <h2 class="wishes-title">UCAPAN TETAMU</h2>
            <div class="wishes-carousel" id="wishes-carousel">
                <p>Loading wishes...</p>
            </div>
        </div>
    </section>

    <section class="salam-kaut-page" id="salam-kaut">
        <div class="info-block-container fade-in-section">
            <h2 class="salam-kaut-title">Salam Kaut</h2>
            <p class="guestbook-subtitle">Hadiah Digital</p>
            <p class="guestbook-message">Kehadiran anda adalah hadiah terindah bagi kami. Namun, sekiranya anda ingin memberi hadiah digital, anda boleh imbas kod QR di bawah:</p>
            
            <div class="qr-placeholder">
                <img src="qr-code.jpg" alt="DuitNow QR Code">
            </div>

            <div class="bank-details">
                <p><strong>MAYBANK</strong></p>
                <p id="acc-number">123456789012</p>
                <p>MUHAMMAD SOFI</p>
                <button class="copy-button" onclick="copyAccount()">Salin Nombor Akaun</button>
            </div>
        </div>
    </section>

    <div class="final-footer">&copy; 2026 Sofi & Alyaa.</div>

    <script>
        // --- 1. SCROLL REVEAL ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-in-section').forEach(s => observer.observe(s));

        // --- 2. COUNTDOWN ---
        const targetDate = new Date("March 28, 2026 18:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = targetDate - now;
            document.getElementById("days").innerText = Math.max(0, Math.floor(diff / (1000 * 60 * 60 * 24))).toString().padStart(3, '0');
            document.getElementById("hours").innerText = Math.max(0, Math.floor((diff % 86400000) / 3600000)).toString().padStart(2, '0');
            document.getElementById("minutes").innerText = Math.max(0, Math.floor((diff % 3600000) / 60000)).toString().padStart(2, '0');
            document.getElementById("seconds").innerText = Math.max(0, Math.floor((diff % 60000) / 1000)).toString().padStart(2, '0');
        }, 1000);

        // --- 3. COPY ACCOUNT ---
        function copyAccount() {
            const accNum = document.getElementById("acc-number").innerText;
            navigator.clipboard.writeText(accNum).then(() => {
                alert("Nombor akaun telah disalin!");
            });
        }

        // --- 4. WISHES LOGIC ---
        let currentIdx = 0;
        let wishes = [];
        let autoPlayInterval;
        const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQpEtww4FsTar2klFrx5VgE2LxYHPl22FWH0rNAY8cT7r5xs28kpzTeJ5AgTo1iQE8J1gL_1_kESkJV/pub?output=csv';

        async function fetchWishes() {
            try {
                const res = await fetch(csvUrl);
                const text = await res.text();
                const rows = [];
                let currentRow = [];
                let currentField = '';
                let inQuotes = false;

                for (let i = 0; i < text.length; i++) {
                    const char = text[i];
                    if (char === '"' && text[i+1] === '"') { currentField += '"'; i++; }
                    else if (char === '"') { inQuotes = !inQuotes; }
                    else if (char === ',' && !inQuotes) { currentRow.push(currentField); currentField = ''; }
                    else if (char === '\n' && !inQuotes) { currentRow.push(currentField); rows.push(currentRow); currentRow = []; currentField = ''; }
                    else if (char !== '\r') { currentField += char; }
                }
                if (currentField || currentRow.length > 0) { currentRow.push(currentField); rows.push(currentRow); }

                wishes = rows.slice(1) 
                    .map(r => ({
                        name: (r[1] || "Tetamu").trim().replace(/^"|"$/g, ''),
                        msg: (r[2] || "").trim().replace(/^"|"$/g, '')
                    }))
                    .filter(w => w.msg.length > 0)
                    .reverse();

                if (wishes.length === 0) {
                    wishes = [{name: "Sofi & Alyaa", msg: "Terima kasih atas segala doa!"}];
                }
                render();
                startAutoPlay();
            } catch (e) {
                console.error("Error loading wishes:", e);
                document.getElementById('wishes-carousel').innerHTML = "<p>Gagal memuatkan ucapan.</p>";
            }
        }

        function render() {
            const container = document.getElementById('wishes-carousel');
            if (!container) return;
            
            container.innerHTML = wishes.map((w, i) => `
                <div class="wish-box ${i === 0 ? 'active' : ''}">
                    <p class="wish-message">"${w.msg}"</p>
                    <p class="wish-sender">- ${w.name}</p>
                </div>
            `).join('') + `
                <button class="carousel-nav-btn" id="prev-wish-btn" onclick="manualMove(-1)">&lt;</button>
                <button class="carousel-nav-btn" id="next-wish-btn" onclick="manualMove(1)">&gt;</button>
            `;
        }

        function move(step) {
            const boxes = document.querySelectorAll('.wish-box');
            if (boxes.length <= 1) return;
            boxes[currentIdx].classList.remove('active');
            currentIdx = (currentIdx + step + wishes.length) % wishes.length;
            boxes[currentIdx].classList.add('active');
        }

        window.manualMove = (step) => {
            clearInterval(autoPlayInterval);
            move(step);
            startAutoPlay();
        };

        function startAutoPlay() {
            if (wishes.length > 1) {
                autoPlayInterval = setInterval(() => {
                    move(1);
                }, 5000);
            }
        }

        fetchWishes();
    </script>
</body>
</html>